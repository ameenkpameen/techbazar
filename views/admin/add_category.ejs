<%- include('../layout/admin/admin_header.ejs') %>
<%- include('../layout/admin/admin_nav.ejs') %>
<%- include('../layout/admin/admin_sidebar.ejs') %>

<main id="main" class="main">
 <section class="section">
    
      <div class="col-lg-12">

        <div class="card" style="background-color: rgb(255, 255, 255);">
          <div class="card-body p-5">
            <div class="text-center">
                <h1 class=" p-4 fw-bold" style="color: rgb(255, 0, 0);">Add Category</h1>
            </div>
            

            <!-- General Form Elements -->
            <form action="" method="post" enctype="multipart/form-data" name="myform">
              <div class="row mb-3 text-center">
                <% if(typeof message !== 'undefined' ){ %>
                  <h5 style="color: rgb(255, 0, 0);">
                    <%= message %>
                  </h5>
                  <% } %>
  
              </div>
              
              <div class="row mb-3">
                <label for="inputText" class="col-sm-2 col-form-label">Category Name</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" name="categoryname" required>
                </div>
              </div>
              <div class="row mb-3">
                <label for="inputEmail" class="col-sm-2 col-form-label">Discription</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" name="description" required>
                </div>
              </div>
              <div class="row mb-3">
                <label for="inputNumber" class="col-sm-2 col-form-label">Image</label>
                <div class="col-sm-10">
                  <input  type="file" class="form-control" name="categoryimage" required>
                </div>
              </div>
              

              <div class="row mb-3">
                <label class="col-sm-2 col-form-label">Submit Button</label>
                <div class="col-sm-10">
                  <button type="submit" class="btn btn-primary">Save</button>
                </div>
              </div>

            </form><!-- End General Form Elements -->

          </div>
        </div>

      </div>
      
    
    </section>
</main>

<script>
  const form = document.querySelector("#myform");
  const submitbutton = document.querySelector('button[type="submit"]')


  submitbutton.addEventListener('click',(event)=>{
   event.preventDefault()
    Swal.fire({
       position: 'top-end',
       icon: 'success',
       title: 'Your work has been saved',
       showConfirmButton: false,
       timer: 1500
     }).then(()=>{
      form.submit()
     })

  })
      
  


</script>
<!-- <script>
     
  const form = document.querySelector("form");
  const submitbutton = document.querySelector('button[type="submit"]')


  submitbutton.addEventListener('click',(event)=>{
   event.preventDefault()

     if (!form.checkValidity()) {
             Swal.fire({
             icon: 'error',
             title: 'Oops...',
             text: 'Something went wrong!',
             footer: '<a href="">Why do I have this issue?</a>'
             })
          return;
    }else{
      Swal.fire({
       position: 'top-end',
       icon: 'success',
       title: 'Your work has been saved',
       showConfirmButton: false,
       timer: 1500
     }).then(()=>{
      form.submit()
     })
    }


    

  })
  
</script> -->



      <%- include('../layout/admin/admin_footer.ejs') %>